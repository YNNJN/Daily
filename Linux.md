## 리눅스와 리눅스의 구조





### 유닉스(UNIX)

- 컴퓨터 운영체제
  - 컴퓨터에서 프로그램을 실행시키고 자원을 관리하는 제어 프로그램
    - MS 윈도우나 macOS는 개인용 PC에서 사용
    - 안드로이드나 iOS는 스마트 디바이스
    - 워크스테이션에서는 일반적으로 UNIX를 기본 운영체제로 사용



- UNIX
  - 유연, 개방적, 이식 용이, 단순하게 구상 설계
  - 유닉스 표준규격(POSIX, ANSI/ISO, XPG)을 지키는 OS 군을 말함 
  - 다른 운영체제와는 달리 통신으로 서로 대화하고 싶은 많은 프로그래머드에 의해 개발 / 발전됨



- UNIX 역사
  - 1965년 Multics 운영체제 개발 목적
    - 다중 사용자(multi-user)
    - 멀티 프로세서(multi-processor)
    - 계층구조 파일시스템(hierarchical file system)
  - 1969년
    - Bell 연구소는 Multics 성능에 만족 못하여 프로젝트 취소
    - Ken Thompson이 파일 유틸리티(cp, mv) 와 쉘(shell)이란 명령어 해석기 개발
      (이 분이 B언어(CPL -> BCPL -> B), Go언어, UTF-8 다 개발)
    - 한 가지 일도 제대로 못하는 Multics를 비꼬아 하나라도 잘 하자고 Unix로 새 시스템을 명명
    - 초기에 어셈블리어로 개발
  - 1971년
    - B언어 기초로 C언어 개발
    - PDP-11 상에서 실행되었던 UNIX 시스템의 시스템 환경은 16KB의 RAM(8KB의 사용자 메모리에 512B의 디스크를 사용)
  - 1973년
    - 모든 UNIX 시스템의 이식성과 속도를 높이기 위해 C언어로 재작성
  - 1977년
    - BBSD 개발 시작(빌 조이 주축) - 1978 최초 배포 - 1979 2BSD - ... - 1994 4.4BSD - 1995 해체
  - 1988년
    - AT&T와 Sun Microsystems 사가 공동으로 System V Release 4(SVR4) 개발
    - 이것이 UnixWare와 Solaris 2로 발전
  - 1991년
    - 핀란드의 리누스 토발즈에 의해 발표



- UNIX 운영체제
  - Time Sharing System을 위해 설계된 대화식 운영체제로, 소스가 공개된 개방형 시스템
  - 대부분의 코드가 C언어로 작성
    - 이식성과 장치, 프로세스 간의 호환성이 좋다
  - 다중 사용자, 다중 작업을 지원함
  - 네트워킹 기능을 제공함
  - 트리 구조의 파일 시스템을 제공함
  - 여러 층으로 구성된 운영체제임
    - 커널, 쉘, 시스템 라이브러리, 애플리케이션 등
  - 사용자 프로그램은 표준 시스템 콜(system calls)의 집합을 포함하고 있는 커널(kernel)을 통하여 서로 대화함
    - 커널이란 OS를 구성하는 기본적인 토대













### 리눅스(Linux)

- 리눅스의 시작
  - 1991년 핀란드의 리누스 토발즈가 리눅스 커널 0.1을 인터넷에 공개



- 리눅스의 특징
  - Multi-user 시스템 (여러 사용자가 사용)
  - Multi-process 시스템 (여러 프로그램을 실행, 소프트웨어 측면)
  - multi-processor 시스템 (여러 개의 CPU를 지원, 하드웨어 측면)
  - 유닉스 표준을 지원함
    - 유닉스의 표준인 SUS, POSIX, ANSI 등 준수
    - 유닉스의 표준 X윈도를 통해 GUI 시스템을 지원
  - 리눅스 셸을 이용해야 하며, 셸을 통해 여러 명령을 수행함



- 리눅스 배포판: 리눅스 커널 + GNU 소프트웨어 (GNU/Linux)
  - 리눅스는 크게 커널, 디바이스 드라이버, 시스템 라이브러리, 셸, 유틸리티, X윈도로 구분함



- 리눅스의 커널
  - 기능
    - 시스템의 가장 기본적인 메모리나 프로세스 등의 효율적 하드웨어 관리
    - 애플리케이션이 커널을 이용할 수 있도록 시스템 호출(system call)과 같은 API를 제공함
    - 하드웨어의 제어를 위한 디바이스 드라이버를 포함함
  - 특징
    - 유닉스의 네트워크(BSD 소켓), IPC(Inter-Process Communication)나 프로세스 스케줄링(시분할 처리), 버퍼 캐시와 페이징, 스레드 등도 지원함
    - 각각의 사용자는 계정, 비밀번호, 그리고 홈 디렉토리라는 저장공간
    - 유닉스는 계정과 비밀번호로 사용자를 구분하고, 계정별로 접근 권한에 제약을 둠 (시스템 보안)



- 리눅스의 명령어

  - 구분

    - 내장 명령어 - 기본적으로 셸에서 제공
    - 외부 명령어(유틸리티) - 사용자의 편의를 위해 시스템에서 제공하는 외부 프로그램
      - /bin, /sbin, /user/
    - 일반적으로 유틸리티는 외부에 별도의 실행 파일로 제공되는 데 셸이 프로그램 파일의 내용을 메모리로 로드해서 수행함
      - fork, exec

  - 리눅스의 셸

    - 본 셸과 csh의 장점만 가져온 bash(Bourne Again Shell)를 사용

  - C, C++, Python, BCC Basic, Perl 등의 프로그래밍 언어 지원

  - 명령어

    | 명령어  | 내용                             | 명령어     | 내용                                 |
    | ------- | -------------------------------- | ---------- | ------------------------------------ |
    | ls      | 디렉터리 내용 표시               | cd         | 현재의 디렉터리 이동                 |
    | clear   | 화면 지움                        | mkdir      | 새로운 디렉터리 생성                 |
    | echo    | 문자열 출력                      | rmdir      | 비어있는 디렉터리 삭제               |
    | cp      | 파일 복사                        | pwd        | 현재 작업 디렉터리 경로 표시         |
    | rm      | 파일 삭제                        | dirs       | 디렉터리 스택의 내용 표시            |
    | mv      | 파일 이동                        | phshd      | 디렉터리 스택에 추가                 |
    | ln      | 다른 파일 가리키는 링크 생성     | popd       | 디렉터리 스택 마지막 내용 획득       |
    | cat     | 파일의 내용 표시                 | wc         | word count, 문서의 행 등의 정보 표시 |
    | more    | 파일 내용을 페이지 단위로 표시   | passwd     | 사용자 비밀번호 변경                 |
    | man     | 유틸리티나 API 정보 표시         | sudo       | 슈퍼유저 권한으로 실행               |
    | apropos | 해당 주제와 관련된 명령어 표시   | su         | 사용자 변경                          |
    | which   | 명령어의 위치 경로 표시(whereis) | Who        | 사용자에 대한 정보 표시              |
    | find    | 시스템 내에서 파일 찾기          | wall       | 모든 사용자에게 메시지 전달          |
    | grep    | 문서 내에서 패턴 찾기            | dmesg      | 커널의 로그 출력                     |
    | adduser | 사용자 추가                      | ping       | 네트워크의 상태 확인                 |
    | chmod   | 파일의 접근 권한 변경            | ifconfig   | 호스트의 IP 주소 표시                |
    | chown   | 파일의 소유자 변경               | route      | 라우팅 테이블 확인                   |
    | chgrp   | 파일과 관련된 그룹 변경          | netstat    | 네트워크의 연결상태를 확인           |
    | du      | 디스크 사용량 검사               | traceroute | 특정 호스트까지 라우터 경로 확인     |
    | df      | 디스크의 남은 공간 표시          | nslookip   | DNS를 조회                           |
    | nice    | 실행할 명령어의 우선 순위 조정   | uname      | 현재 시스템의 내용을 표시            |
    | free    | 시스템의 현재 남은 메모리 표시   | top        | 현재 프로세스 상태 표시              |
    | ps      | 프로세스의 상태 표시             | fg         | 프로세스를 포그라운드로 전환         |
    | Kill    | 프로세스에 시그널 보내기         | bg         | 프로세스를 백그라운드로 전환         |
    | time    | 프로세스의 실행 시간 출력        | diff       | 두 파일의 다른 점을 표시             |

    

- 유닉스의 설계 철학 (Divide and Conquer)

  - 단순성
  - 이식성
  - 개방성



- 유닉스의 특징
  - 다중 사용자, 다중 프로세스
  - 쉘 프로그래밍
  - 네트워킹



- 유닉스 운영체제 구조
  - 운영체제
    - 컴퓨터의 하드웨어 자원을 운영 관리하고
    - 프로그램을 실행할 수 있는 환경을 제공함
  - 커널
    - 운영체제의 핵심으로 하드웨어 운영 및 관리
    - 프로세스, 파일, 메모리, 통신, 주변 장치 등을 관리하는 서비스를 제공함
  - 시스템 호출(system call)
    - 커널이 제공하는 서비스에 대한 프로그래밍 인터페이스 역할
  - 쉘
    - 사용자와 운영체제 사이의 인터페이스
    - 사용자로부터 명령어를 입력 받아 해석하여 수행해주는 명령어 해석기